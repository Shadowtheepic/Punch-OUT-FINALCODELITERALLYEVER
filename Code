import pygame
import random


pygame.init()
pygame.display.set_caption("bruh") 
screen = pygame.display.set_mode((500, 500))
clock = pygame.time.Clock()

doExit = False
doge = pygame.image.load('doge.jpg')
dogecrouch = pygame.image.load('dogecrouch.jpg')
c = pygame.image.load('cd.jpg')
dogeswol = pygame.image.load('Swole_Doge.png')
ambatablow = pygame.image.load('blow.jpg')
font = pygame.font.SysFont('calibri.ttf', 38)
phealt = font.render('Player Health:', True, (0,200,200))



#doge variables
xpos = 200
ypos = 400
direction = 0
fall = 0
isOnGround = False
playerhp = 100
dodge = False


#constants
LEFT = 0
RIGHT = 1
UP = 2
DOWN = 3
NON = 4
keys = [False, False, False, False, False]

class enemy:
    
    def __init__(self, cxpos, cypos):
        
        self.cxpos = cxpos
        self.cypos = cypos
        self.counter = 0
        self.throw = False
        self.ehp = 1000
        self.edodge = False
        self.hasHit = False
        self.alive = True
        self.tick = 0
        
        
    def draw(self, screen):
        
        enemhealt = font.render('Enemy Health:', True, (255,0,0))
        screen.blit(enemhealt,(240,0))
        
        enemhealthtext = font.render(str(int(self.ehp)), 1, (255,0,0))

        screen.blit(enemhealthtext,(430,0))
        
        
        if self.alive == True:
            if self.hasHit == False:
                screen.blit(c, (self.cxpos, self.cypos))
            else:
                screen.blit(c, (self.cxpos, self.cypos + 100))
        else:
            screen.blit(ambatablow,(self.cxpos - 75,self.cypos-50))
        
    def getHit(self):
        self.ehp -= 5
        if self.ehp < 0:
            self.alive = False
    
    def punch(self):
        L = random.randint(1,20)
        if L == 1: 
            print("something came in the mail today")
            while self.hasHit == False:
                self.cypos+= 2
                if self.cypos > 400:
                    print ("moving down")
                    self.hasHit = True
            while self.hasHit == True:
                if self.hasHit == True and self.cypos > 150:
                    print ("moving up")
                    self.cypos -= 3
                self.hasHit = False
                
            return True
    """
    def punch(self):
        if self.alive == True:
            L = random.randint(1,20)
            if L == 1:
                self.hasHit = True
                print("ENEMY PUNCH!!")
                return True
            else:
                return False
"""
cd = enemy(200,150)  

while not doExit and playerhp > 0:
    clock.tick(60)
    
    
    for event in pygame.event.get(): #quit game if x is pressed in top corner
        if event.type == pygame.QUIT:
            doExit = True
      
        if event.type == pygame.KEYDOWN: #keyboard input
            if event.key == pygame.K_LEFT:
                keys[LEFT]=True
            elif event.key == pygame.K_RIGHT:
                keys[RIGHT]=True
            elif event.key == pygame.K_DOWN:
                keys[DOWN] = True
            elif event.key == pygame.K_UP:
                keys[UP] = True

            
        if event.type == pygame.KEYUP: #keyboard input
            if event.key == pygame.K_LEFT:
                keys[LEFT]=False
            elif event.key == pygame.K_RIGHT:
                keys[RIGHT]=False
            elif event.key == pygame.K_DOWN:
                keys[DOWN] = False
            elif event.key == pygame.K_UP:
                keys[UP] = False
            else:
                keys[NON] = True
        
    #left movement            
    if keys[LEFT]==True:
        dodge = True
        direction = LEFT
        
    #Right Movement
    elif keys[RIGHT]==True:
        dodge = True
        direction = RIGHT
        
        
    elif keys[DOWN]==True:
        dodge = True
        direction = DOWN
    
    elif keys[UP]==True:
        cd.getHit()
        direction = UP
    
    
    else:
        dodge = False
        direction = NON
    
    screen.fill((5, 5, 100))
    
    Healthtext = font.render(str(int(playerhp)), 1, (0,200,200))

    if direction == DOWN:
        screen.blit(dogecrouch, (xpos - 185,ypos+25))
    elif direction == LEFT:
        screen.blit(doge, (xpos - 75, ypos))
    elif direction == RIGHT:
        screen.blit(doge, (xpos + 75, ypos))
    elif direction == UP:
        screen.blit(dogeswol, (xpos - 150, ypos-40))
    elif direction == NON:
        screen.blit(doge, (xpos,ypos))

    
    if cd.punch() == True and dodge == False:
        playerhp -= 5

       
    cd.draw(screen)
    
    screen.blit(phealt,(0,0))
    screen.blit(Healthtext,(183,0))
 
    pygame.display.flip()
    
    
print("yu died lol")

pygame.quit()
